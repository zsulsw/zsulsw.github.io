<!--
  Header component for the personal website of Ir Prof. Siwei Liu.

  This navigation bar follows the minimalist style of Academic Pages template.
  It includes a website name "Stability Fun" on the left, followed by navigation menu,
  an expandable search box and an inline dark/light mode toggle on the right. 
  The header is fixed to the top during scrolling for better navigation. 
  SVG icons are embedded directly so that the site remains fully functional when viewed offline.
-->
<nav class="site-nav">
  <div class="nav-container">
    <!-- Website name/brand on the left with logo -->
    <a href="index.html" class="nav-brand">
      <img src="assets/images/logo-icon.png" alt="Stability Fun Logo" class="nav-logo">
      <span>Stability Fun</span>
    </a>
    
    <!-- Mobile menu toggle (hamburger) -->
    <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">☰</button>
    
    <!-- Primary navigation links - with spacing from brand -->
    <ul class="nav-menu" id="navMenu">
      <!-- Navigation items will be dynamically generated from configuration.js -->
    </ul>
    
    <!-- Right side of the header: search box and theme toggle -->
    <div class="nav-right">
      <!-- Expandable search bar with longer initial width -->
      <div class="nav-search" id="navSearch">
        <input type="text" id="searchInput" placeholder="Search…" aria-label="Search site">
        <!-- Clear button appears when there is text in the search field -->
        <button id="searchClear" class="search-clear" aria-label="Clear search">&times;</button>
        <!-- Search button triggers navigation to the search results page -->
        <button id="searchButton" aria-label="Search">
          <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
          </svg>
        </button>
      </div>
      <!-- Suggestions dropdown shows dynamic search results -->
      <div class="suggestions-container" id="searchSuggestions">
        <div class="result-count" id="searchSuggestionsCount"></div>
        <ul id="searchSuggestionsList"></ul>
      </div>
      <!-- Dark/light mode toggle using Bootstrap sun and moon icons -->
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light mode">
        <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
          <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8"/>
          <path d="M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"/>
        </svg>
        <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
          <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.290 0-1.167.242-2.278.681-3.286"/>
        </svg>
      </button>
    </div>
  </div>
</nav>
